<?xml version="1.0" encoding="UTF-8"?>
<class xmlns="http://xml.phpdox.net/src" full="CS_REST_Segments" namespace="" name="CS_REST_Segments" abstract="false" final="false" start="11" end="206">
  <file path="/var/www/_modules/campaignmonitor/trunk/docs/en/phpdox/../../../third_party/vendor/campaignmonitor/createsend-php" file="csrest_segments.php" realpath="/var/www/_modules/campaignmonitor/trunk/third_party/vendor/campaignmonitor/createsend-php/csrest_segments.php" size="8348" time="2015-03-14T10:22:24+13:00" unixtime="1426281744" sha1="2fc798eb8cdfba2e678e907a3ca818ac57f3a503" relative="third_party/vendor/campaignmonitor/createsend-php/csrest_segments.php"/>
  <docblock>
    <description compact="Class to access a segments resources from the create send API.">This class includes functions to create and edits segments
along with accessing the subscribers of a specific segment</description>
    <author value="tobyb"/>
  </docblock>
  <extends full="CS_REST_Wrapper_Base" namespace="" name="CS_REST_Wrapper_Base"/>
  <member name="_segments_base_route" type="{unknown}" visibility="public" line="18">
    <docblock>
      <description compact="The base route of the lists resource."/>
      <var type="string"/>
      <access value="private"/>
    </docblock>
  </member>
  <method name="CS_REST_Segments" start="40" end="52" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description compact="Constructor."/>
      <param description="The segment id to access (Ignored for create requests)" variable="$segment_id" type="string"/>
      <param description="Authentication details to use for API calls." variable="$auth_details" type="array">This array must take one of the following forms:
       If using OAuth to authenticate:
       array(
         'access_token' =&gt; 'your access token',
         'refresh_token' =&gt; 'your refresh token')

       Or if using an API key:
       array('api_key' =&gt; 'your api key')</param>
      <param description="The protocol to use for requests (http|https)" variable="$protocol" type="string"/>
      <param description="The level of debugging required CS_REST_LOG_NONE | CS_REST_LOG_ERROR | CS_REST_LOG_WARNING | CS_REST_LOG_VERBOSE" variable="$debug_level" type="int"/>
      <param description="The host to send API requests to. There is no need to change this" variable="$host" type="string"/>
      <param description="The logger to use. Used for dependency injection" variable="$log" type="object">
        <type full="CS_REST_Log" namespace="" name="CS_REST_Log"/>
      </param>
      <param description="serialiser to use. Used for dependency injection" variable="$serialiser" type="object">
        <type full="The" namespace="" name="The"/>
      </param>
      <param description="transport to use. Used for dependency injection" variable="$transport" type="object">
        <type full="The" namespace="" name="The"/>
      </param>
      <access value="public"/>
    </docblock>
    <parameter name="segment_id" byreference="false" type="{unknown}"/>
    <parameter name="auth_details" byreference="false" type="{unknown}"/>
    <parameter name="protocol" byreference="false" type="string" default="'https'"/>
    <parameter name="debug_level" byreference="false" type="{unknown}" default="CS_REST_LOG_NONE"/>
    <parameter name="host" byreference="false" type="string" default="'api.createsend.com'"/>
    <parameter name="log" byreference="false" type="{unknown}" default="NULL"/>
    <parameter name="serialiser" byreference="false" type="{unknown}" default="NULL"/>
    <parameter name="transport" byreference="false" type="{unknown}" default="NULL"/>
  </method>
  <method name="set_segment_id" start="59" end="61" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description compact="Change the segment id used for calls after construction"/>
      <param variable="$segment_id"/>
      <access value="public"/>
    </docblock>
    <parameter name="segment_id" byreference="false" type="{unknown}"/>
  </method>
  <method name="create" start="83" end="85" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description compact="Creates a new segment on the given list with the provided details"/>
      <param description="The list on which to create the segment" type="int" variable="$list_id"/>
      <param description="details of the new segment" variable="$segment_details" type="object">This should be an array of the form
        array(
            'Title' =&gt; The title of the new segment
            'RuleGroups' =&gt; array(
                array(
                    'Rules' =&gt; array(
                        array(
                            'RuleType' =&gt; The subject of this rule
                            'Clause' =&gt; The specific clauses for this rule
                        )
                    )
                )
            )
        )<type full="The" namespace="" name="The"/></param>
      <return description="A successful response will be the ID of the newly created segment" type="object">
        <type full="CS_REST_Wrapper_Result" namespace="" name="CS_REST_Wrapper_Result"/>
      </return>
    </docblock>
    <parameter name="list_id" byreference="false" type="{unknown}"/>
    <parameter name="segment_details" byreference="false" type="{unknown}"/>
  </method>
  <method name="update" start="106" end="108" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description compact="Updates the current segment with the provided details. Calls to this route will clear any existing rules"/>
      <param description="new details for the segment" variable="$segment_details" type="object">This should be an array of the form
        array(
            'Title' =&gt; The title of the new segment
            'RuleGroups' =&gt; array(
                array(
                    'Rules' =&gt; array(
                        array(
                            'RuleType' =&gt; The subject of this rule
                            'Clause' =&gt; The specific clauses for this rule
                        )
                    )
                )
            )
        )<type full="The" namespace="" name="The"/></param>
      <return description="A successful response will be empty" type="object">
        <type full="CS_REST_Wrapper_Result" namespace="" name="CS_REST_Wrapper_Result"/>
      </return>
    </docblock>
    <parameter name="segment_details" byreference="false" type="{unknown}"/>
  </method>
  <method name="add_rulegroup" start="124" end="126" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description compact="Adds the given rule to the current segment"/>
      <param description="rule to add to the segment" variable="$rule" type="object">This should be an array of the form
        array(
            'Rules' =&gt; array(
                array(
                    'RuleType' =&gt; The subject of this rule
                    'Clause' =&gt; The specific clauses for this rule
                )
            )
        )<type full="The" namespace="" name="The"/></param>
      <return description="A successful response will be empty" type="object">
        <type full="CS_REST_Wrapper_Result" namespace="" name="CS_REST_Wrapper_Result"/>
      </return>
    </docblock>
    <parameter name="rulegroup" byreference="false" type="{unknown}"/>
  </method>
  <method name="get" start="145" end="147" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description compact="Gets the details of the current segment"/>
      <access value="public"/>
      <return description="A successful response will be an object of the form" type="object">{
    'ActiveSubscribers' =&gt; The number of active subscribers in this segment
    'Rules' =&gt; array(
        {
            'Subject' =&gt; The subject of the rule
            'Clauses' =&gt; array&lt;string&gt; The clauses making up this segment rule
        }
    ),
    'ListID' =&gt; The ID of the list on which this segment is applied
    'SegmentID' =&gt; The ID of this segment
    'Title' =&gt; The title of this segment
}<type full="CS_REST_Wrapper_Result" namespace="" name="CS_REST_Wrapper_Result"/></return>
    </docblock>
  </method>
  <method name="delete" start="154" end="156" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description compact="Deletes an existing segment from the system"/>
      <access value="public"/>
      <return description="A successful response will be empty" type="object">
        <type full="CS_REST_Wrapper_Result" namespace="" name="CS_REST_Wrapper_Result"/>
      </return>
    </docblock>
  </method>
  <method name="clear_rules" start="163" end="165" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description compact="Deletes all rules for the current segment"/>
      <access value="public"/>
      <return description="A successful response will be empty" type="object">
        <type full="CS_REST_Wrapper_Result" namespace="" name="CS_REST_Wrapper_Result"/>
      </return>
    </docblock>
  </method>
  <method name="get_subscribers" start="200" end="205" abstract="false" final="false" static="false" visibility="public">
    <docblock>
      <description compact="Gets a paged collection of subscribers which fall into the given segment"/>
      <param description="The date to start getting subscribers from" type="string" variable="$subscribed_since"/>
      <param description="The page number to get" type="int" variable="$page_number"/>
      <param description="The number of records per page" type="int" variable="$page_size"/>
      <param description="The field to order the record set by ('EMAIL', 'NAME', 'DATE')" type="string" variable="$order_field"/>
      <param description="The direction to order the record set ('ASC', 'DESC')" type="string" variable="$order_direction"/>
      <access value="public"/>
      <return description="A successful response will be an object of the form" type="object">{
    'ResultsOrderedBy' =&gt; The field the results are ordered by
    'OrderDirection' =&gt; The order direction
    'PageNumber' =&gt; The page number for the result set
    'PageSize' =&gt; The page size used
    'RecordsOnThisPage' =&gt; The number of records returned
    'TotalNumberOfRecords' =&gt; The total number of records available
    'NumberOfPages' =&gt; The total number of pages for this collection
    'Results' =&gt; array(
        {
            'EmailAddress' =&gt; The email address of the subscriber
            'Name' =&gt; The name of the subscriber
            'Date' =&gt; The date that the subscriber was added to the list
            'State' =&gt; The current state of the subscriber, will be 'Active'
            'CustomFields' =&gt; array (
                {
                    'Key' =&gt; The personalisation tag of the custom field
                    'Value' =&gt; The value of the custom field for this subscriber
                }
            )
        }
    )
}<type full="CS_REST_Wrapper_Result" namespace="" name="CS_REST_Wrapper_Result"/></return>
    </docblock>
    <parameter name="subscribed_since" byreference="false" type="string" default="''"/>
    <parameter name="page_number" byreference="false" type="{unknown}" default="NULL"/>
    <parameter name="page_size" byreference="false" type="{unknown}" default="NULL"/>
    <parameter name="order_field" byreference="false" type="{unknown}" default="NULL"/>
    <parameter name="order_direction" byreference="false" type="{unknown}" default="NULL"/>
  </method>
  <parent full="CS_REST_Wrapper_Base" namespace="" name="CS_REST_Wrapper_Base">
    <member name="_protocol" type="{unknown}" visibility="public" line="60">
      <docblock>
        <description compact="The protocol to use while accessing the api"/>
        <var description="http or https" type="string"/>
        <access value="private"/>
      </docblock>
    </member>
    <member name="_base_route" type="{unknown}" visibility="public" line="67">
      <docblock>
        <description compact="The base route of the create send api."/>
        <var type="string"/>
        <access value="private"/>
      </docblock>
    </member>
    <member name="_serialiser" type="{unknown}" visibility="public" line="75">
      <docblock>
        <description compact="The serialiser to use for serialisation and deserialisation of API request and response data"/>
        <var description="or CS_REST_XmlSerialiser" type="object">
          <type full="CS_REST_JsonSerialiser" namespace="" name="CS_REST_JsonSerialiser"/>
        </var>
        <access value="private"/>
      </docblock>
    </member>
    <member name="_transport" type="{unknown}" visibility="public" line="82">
      <docblock>
        <description compact="The transport to use to send API requests"/>
        <var description="or CS_REST_SocketTransport or your own custom transport." type="object">
          <type full="CS_REST_CurlTransport" namespace="" name="CS_REST_CurlTransport"/>
        </var>
        <access value="private"/>
      </docblock>
    </member>
    <member name="_log" type="{unknown}" visibility="public" line="89">
      <docblock>
        <description compact="The logger to use for debugging of all API requests"/>
        <var type="object">
          <type full="CS_REST_Log" namespace="" name="CS_REST_Log"/>
        </var>
        <access value="private"/>
      </docblock>
    </member>
    <member name="_default_call_options" type="{unknown}" visibility="public" line="105">
      <docblock>
        <description compact="The default options to use for each API request.">These can be overridden by passing in an array as the call_options argument
to a single api request.
Valid options are:

deserialise boolean:
    Set this to false if you want to get the raw response.
    This can be useful if your passing json directly to javascript.

While there are clearly other options there is no need to change them.</description>
        <var type="array"/>
        <access value="private"/>
      </docblock>
    </member>
    <method name="CS_REST_Wrapper_Base" start="130" end="172" abstract="false" final="false" static="false" visibility="public">
      <docblock>
        <description compact="Constructor."/>
        <param description="Authentication details to use for API calls." variable="$auth_details" type="array">This array must take one of the following forms:
       If using OAuth to authenticate:
       array(
         'access_token' =&gt; 'your access token',
         'refresh_token' =&gt; 'your refresh token')

       Or if using an API key:
       array('api_key' =&gt; 'your api key')

       Note that this method will continue to work in the deprecated
       case when $auth_details is passed in as a string containing an
       API key.</param>
        <param description="The protocol to use for requests (http|https)" variable="$protocol" type="string"/>
        <param description="The level of debugging required CS_REST_LOG_NONE | CS_REST_LOG_ERROR | CS_REST_LOG_WARNING | CS_REST_LOG_VERBOSE" variable="$debug_level" type="int"/>
        <param description="The host to send API requests to. There is no need to change this" variable="$host" type="string"/>
        <param description="The logger to use. Used for dependency injection" variable="$log" type="object">
          <type full="CS_REST_Log" namespace="" name="CS_REST_Log"/>
        </param>
        <param description="serialiser to use. Used for dependency injection" variable="$serialiser" type="object">
          <type full="The" namespace="" name="The"/>
        </param>
        <param description="transport to use. Used for dependency injection" variable="$transport" type="object">
          <type full="The" namespace="" name="The"/>
        </param>
        <access value="public"/>
      </docblock>
      <parameter name="auth_details" byreference="false" type="{unknown}"/>
      <parameter name="protocol" byreference="false" type="string" default="'https'"/>
      <parameter name="debug_level" byreference="false" type="{unknown}" default="CS_REST_LOG_NONE"/>
      <parameter name="host" byreference="false" type="{unknown}" default="CS_HOST"/>
      <parameter name="log" byreference="false" type="{unknown}" default="NULL"/>
      <parameter name="serialiser" byreference="false" type="{unknown}" default="NULL"/>
      <parameter name="transport" byreference="false" type="{unknown}" default="NULL"/>
      <inline>
        <comment value="If $auth_details is a string, assume it is an API key" line="140"/>
      </inline>
    </method>
    <method name="refresh_token" start="178" end="209" abstract="false" final="false" static="false" visibility="public">
      <docblock>
        <description compact="Refresh the current OAuth token using the current refresh token."/>
        <access value="public"/>
      </docblock>
    </method>
    <method name="is_secure" start="215" end="217" abstract="false" final="false" static="false" visibility="public">
      <docblock>
        <description/>
        <return description="True if the wrapper is using SSL." type="boolean"/>
        <access value="public"/>
      </docblock>
    </method>
    <method name="put_request" start="219" end="221" abstract="false" final="false" static="false" visibility="public">
      <parameter name="route" byreference="false" type="{unknown}"/>
      <parameter name="data" byreference="false" type="{unknown}"/>
      <parameter name="call_options" byreference="false" type="array"/>
    </method>
    <method name="post_request" start="223" end="225" abstract="false" final="false" static="false" visibility="public">
      <parameter name="route" byreference="false" type="{unknown}"/>
      <parameter name="data" byreference="false" type="{unknown}"/>
      <parameter name="call_options" byreference="false" type="array"/>
    </method>
    <method name="delete_request" start="227" end="229" abstract="false" final="false" static="false" visibility="public">
      <parameter name="route" byreference="false" type="{unknown}"/>
      <parameter name="call_options" byreference="false" type="array"/>
    </method>
    <method name="get_request" start="231" end="233" abstract="false" final="false" static="false" visibility="public">
      <parameter name="route" byreference="false" type="{unknown}"/>
      <parameter name="call_options" byreference="false" type="array"/>
    </method>
    <method name="get_request_paged" start="235" end="258" abstract="false" final="false" static="false" visibility="public">
      <parameter name="route" byreference="false" type="{unknown}"/>
      <parameter name="page_number" byreference="false" type="{unknown}"/>
      <parameter name="page_size" byreference="false" type="{unknown}"/>
      <parameter name="order_field" byreference="false" type="{unknown}"/>
      <parameter name="order_direction" byreference="false" type="{unknown}"/>
      <parameter name="join_char" byreference="false" type="string" default="'&amp;'"/>
    </method>
    <method name="_call" start="265" end="286" abstract="false" final="false" static="false" visibility="public">
      <docblock>
        <description compact="Internal method to make a general API request based on the provided options"/>
        <param variable="$call_options"/>
        <access value="private"/>
      </docblock>
      <parameter name="call_options" byreference="false" type="{unknown}"/>
      <parameter name="method" byreference="false" type="{unknown}"/>
      <parameter name="route" byreference="false" type="{unknown}"/>
      <parameter name="data" byreference="false" type="{unknown}" default="NULL"/>
    </method>
  </parent>
</class>
